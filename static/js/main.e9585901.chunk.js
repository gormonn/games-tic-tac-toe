(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],{41:function(e,n,t){},42:function(e,n,t){},47:function(e,n,t){"use strict";t.r(n);var c,r,i,o,a,u,s,j=t(1),l=t.n(j),b=t(22),d=t.n(b),O=(t(41),t.p,t(42),t(33)),f=t(6),h=t(17),p=t(3),x=t(12),v=function(e){return new Array(e).fill(new Array(e).fill(0))},g=(r=0,Object(f.a)(Array(26)).map((function(e){return(++r).toString(36)}),r=9).join(c||(c=Object(x.a)([""])))),m=function(e,n){return"".concat(e).concat(":").concat(g[n])},w=t(16),y=t(19),S=w.a.div(i||(i=Object(x.a)(["\n  background: ",";\n  z-index: ",";\n  transition: 200ms;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])),(function(e){return e.$winner?"rgba(30, 30, 30, 0.5)":"none"}),(function(e){return e.$winner?"1":"0"})),M=w.a.div(o||(o=Object(x.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),k=w.a.div(a||(a=Object(x.a)(["\n  max-width: 100%;\n  max-height: 100%;\n  min-width: 100%;\n  min-height: 100%;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n"]))),C=Object(w.a)(y.animated.div)(u||(u=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: 500ms;\n  background: ",";\n  width: 100px;\n  height: 100px;\n  position: relative;\n  pointer-events: ",";\n  cursor: ",";\n  &:hover {\n    background: ",";\n  }\n  border: ",";\n  box-sizing: border-box;\n  zoom: ",";\n"])),(function(e){return e.$touched?"darkgray":"gray"}),(function(e){return e.$touched?"none":"auto"}),(function(e){return e.$touched?"none":"pointer"}),(function(e){return e.$touched?"none":"rgba(255,255,255,.5)"}),(function(e){return e.$isWinLine?"4px solid black ":"none "}),(function(e){return e.$winner?"1!important;":""})),$=w.a.span(s||(s=Object(x.a)(["\n  color: gray;\n  position: absolute;\n  bottom: 14px;\n  right: 14px;\n  font-size: 14px;\n"]))),z=t(2),E=function(e){var n=e.winner,t=e.reset;return Object(z.jsx)(S,{$winner:n,children:n?Object(z.jsxs)("div",{children:[Object(z.jsx)("p",{children:"GAME OVER"}),Object(z.jsx)("p",{children:2==n?"X win!":-1==n?"Tie":"O win!"}),Object(z.jsx)("button",{onClick:t,children:"Retry"})]}):null})};function A(){var e=Object(j.useState)((new Date).getMilliseconds()),n=Object(p.a)(e,2),t=n[0],c=n[1],r=Object(j.useState)(3),i=Object(p.a)(r,2),o=i[0],a=i[1],u=Object(j.useState)(1),s=Object(p.a)(u,2),l=(s[0],s[1]),b=Object(j.useState)(!0),d=Object(p.a)(b,2),x=d[0],w=d[1],y=Object(j.useState)(!1),S=Object(p.a)(y,2),C=S[0],$=S[1],A=Object(j.useState)(""),T=Object(p.a)(A,2),F=T[0],H=T[1],R=Object(j.useState)((function(){return v(o)})),B=Object(p.a)(R,2),D=B[0],N=B[1],V=Object(j.useMemo)((function(){return function(e){for(var n=new Set,t=new Set,c=[],r=0;r<e;r++){var i=[],o=[],a=[];c.push(m(r,r));for(var u=0;u<e;u++)i.push(m(r,u)),o.push(m(u,r)),a.push(m(u,e-1-u)),n.add(m(r,u));t.add(i.join(".")),t.add(o.join(".")),t.add(a.join("."))}return t.add(c.join(".")),[function(e){var n={};return e.forEach((function(e){n[e]=0})),n}(Object(f.a)(t)),Object(f.a)(n)]}(o)}),[t]),W=Object(p.a)(V,2),I=W[0],J=W[1],P=Object(j.useState)(I),X=Object(p.a)(P,2),G=X[0],q=X[1],K=Object(j.useState)([]),Q=Object(p.a)(K,2),U=Q[0],Y=Q[1],Z=Object(j.useState)(J),_=Object(p.a)(Z,2),ee=_[0],ne=_[1],te=Object(j.useState)(!1),ce=Object(p.a)(te,2),re=ce[0],ie=ce[1],oe=Object(j.useState)(1),ae=Object(p.a)(oe,2),ue=ae[0],se=ae[1],je=2*o,le=je+1,be=o*le,de=Object(j.useMemo)((function(){return Array.from({length:10},(function(e,n){return n+2}))}),[]),Oe=function(){l(1),$(!1),H(""),N(v(o)),Y([]),w(!0),c((new Date).getMilliseconds())};Object(j.useEffect)((function(){q(I),ne(J)}),[I,J]),Object(j.useEffect)((function(){return Oe()}),[o]);var fe=Object(j.useCallback)((function(e,n,t){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(r){var i=Object.assign([],D,Object(h.a)({},e,Object.assign([],D[e],Object(h.a)({},n,c?"o":"x"))));N(i);var o=new Set([].concat(Object(f.a)(U),[t]));Y(Object(f.a)(o));var a=new Set(Object(f.a)(ee));a.delete(t),ne(Object(f.a)(a)),w((function(e){return!e}));var u=Object(O.a)({},G);for(var s in G)s.includes(t)&&(u[s]+=c?le:2);q(u)}}),[D,U,ee,G]);Object(j.useEffect)((function(){var e=function(){for(var e in G){if(G[e]===je)return[2,e];if(G[e]===be)return[le,e]}}();if(e){var n=Object(p.a)(e,2),t=n[0],c=n[1];$(t),H(c)}else U.length===Math.pow(o,2)&&$(-1)}),[G,o]),Object(j.useEffect)((function(){if(ee.length&&ue&&!x){var e=ee[Math.floor(Math.random()*ee.length)],n=function(e){var n=e.split(":"),t=Object(p.a)(n,2),c=t[0],r=t[1],i=g.indexOf(r);return[Number(c),Number(i)]}(e),t=Object(p.a)(n,2),c=t[0],r=t[1];fe(c,r,e,!0)()}}),[ee]);var he=function(e){return function(n){var t=n.target;window.confirm("Are you really want to change battlefield? The game will be reset.")&&(e(Number(t.value)),Oe())}};return Object(z.jsxs)(z.Fragment,{children:["Left Mouse - X",Object(z.jsx)("br",{}),"Right Mouse - O",Object(z.jsxs)("label",{children:["Size:",Object(z.jsx)("select",{onChange:he(a),value:o,children:de.map((function(e){return Object(z.jsx)("option",{children:e},e)}))})]}),Object(z.jsxs)("label",{children:["HardMode:",Object(z.jsx)("input",{type:"checkbox",onChange:function(){return ie((function(e){return!e}))},value:re})]}),Object(z.jsxs)("label",{children:["Opponent:",Object(z.jsxs)("select",{onChange:he(se),value:ue,children:[Object(z.jsx)("option",{value:"0",children:"Other player"}),Object(z.jsx)("option",{value:"1",children:"Random bot"}),Object(z.jsx)("option",{value:"2",disabled:!0,children:"Minimax bot"})]})]}),Object(z.jsx)("button",{onClick:Oe,children:"Retry"}),Object(z.jsxs)(k,{children:[Object(z.jsx)(E,{winner:C,reset:Oe}),D.map((function(e,n){return Object(z.jsx)(M,{children:e.map((function(e,c){return Object(z.jsx)(L,{iHor:n,iVert:c,winner:C,cell:e,clickHandler:fe,winLine:F,hardMode:re,withBot:ue,playerTurn:x,touchedCells:U},"".concat(n,"-").concat(c,"-").concat(t))}))},n)}))]})]})}var L=function(e){var n=e.iHor,t=e.iVert,c=e.winner,r=e.cell,i=e.clickHandler,o=e.winLine,a=e.hardMode,u=e.withBot,s=e.playerTurn,j=e.touchedCells,l="".concat(n).concat(":").concat(g[t]),b=j.includes(l),d=o.includes(l),O=2===c&&"x"===r||3===c&&"o"===r,f=Object(y.useSpring)({scale:a&&b?1e-8:1,zoom:0,config:{mass:5,tension:500,friction:80}}),h=f.scale,p=f.zoom;return Object(z.jsxs)(C,{style:{zoom:Object(y.to)([h,p],(function(e,n){return e+n}))},$winner:c,$touched:b,$isWinLine:d,$isWinnerCell:O,onClick:function(){s&&i(n,t,l)()},onContextMenu:function(e){return e.preventDefault(),u||s||i(n,t,l,!0)(),!1},children:[Object(z.jsx)($,{children:l}),r||null]})};var T=function(){return Object(z.jsx)("div",{className:"App",children:Object(z.jsx)(A,{})})},F=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,48)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,i=n.getLCP,o=n.getTTFB;t(e),c(e),r(e),i(e),o(e)}))};d.a.render(Object(z.jsx)(l.a.StrictMode,{children:Object(z.jsx)(T,{})}),document.getElementById("root")),F()}},[[47,1,2]]]);
//# sourceMappingURL=main.e9585901.chunk.js.map